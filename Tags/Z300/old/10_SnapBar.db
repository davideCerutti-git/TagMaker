TYPE "UDT_HMI_Alarm_V2"
VERSION : 0.1
   STRUCT
      t : Struct
         x0 : Bool;
         x1 : Bool;
         x2 : Bool;
         x3 : Bool;
         x4 : Bool;
         x5 : Bool;
         x6 : Bool;
         x7 : Bool;
         x8 : Bool;
         x9 : Bool;
         x10 : Bool;
         x11 : Bool;
         x12 : Bool;
         x13 : Bool;
         x14 : Bool;
         x15 : Bool;
      END_STRUCT;
      iHmiSumAlm : Word;
   END_STRUCT;

END_TYPE

TYPE "UDT_SnapBar_HMI"
VERSION : 0.1
   STRUCT
      tHMR : Struct   // {[Unit]|[Scada Unit]|[LowLimit]|[HigLimit]|[Acces]}
         xMaintenanceModeEnabled : Bool;   // Maintenance Mode Enable {x|x|x|x|O}
         xManualCommandEnabled { ExternalWritable := 'False'} : Bool;   // Manual Mode Enable {x|x|x|x|O}
         xSnapBarEnabled : Bool;   // Enabled - Snap Bar {x|x|x|x|O}
         xSnapBarUp : Bool;   // Break-Out Bar - Up Position {x|x|x|x|O}
         xHomeCycleinprogress : Bool;   // Home Cycle in progress {x|x|x|x|O}
         xHomePosition : Bool;   // Home Position {x|x|x|x|O}
         rgxEnableRiseZone : Array["STARTARRAY".."DNUMSNAPBARZONE"] of Struct
            xEnable : Bool;   // Enabled Rise - Zone #1 {x|x|x|x|O}
         END_STRUCT;
         xUpPosition : Array["STARTARRAY".."DNUMSNAPBARZONE"] of Struct
            xUp : Bool;   //  Up Position - #1 {x|x|x|x|O}
         END_STRUCT;
         iState : Int;   // Machine State (1=Ready, 3=Run, 7=Anomaly) {x|x|x|x|O}
         dTargetPos_cmm : DInt;   // Target position {mm/100|mm|x|x|O}
         rTargetPos_mm : Real;   // Target Position {mm|mm|x|x|O}
         rActualPos_mm : Real;   // Actual Position {mm|mm|x|x|O}
         dActualPos_cmm : DInt;   // Actual Position {mm/100|mm|x|x|O}
         dPh : DInt;   // Phase in progress {x|x|x|x|O}
         tManCmd : Struct
            xRisebar : Bool;   // Rise snap bar {x|x|x|x|O}
            rgtEnabledZone : Array["STARTARRAY".."DNUMSNAPBARZONE"] of Struct
               xEnabled : Bool;   // Disable snap bar - Zone #1 {x|x|x|x|O}
            END_STRUCT;
            xForwardTraslation : Bool;   // Forward traslation {x|x|x|x|O}
            xBackwardTraslation : Bool;   // Backward traslation {x|x|x|x|O}
         END_STRUCT;
      END_STRUCT;
      tHMW : Struct   // {[Unit]|[Scada Unit]|[LowLimit]|[HigLimit]|[Acces]}
         xEnableSnapBar : Bool;   // Enabled - Snap Bar {x|x|x|x|O}
         xDisableSnapBar : Bool;   // Disabled - Snap Bar {x|x|x|x|O}
         xRequestHomeCycle : Bool;   // Request home Cycle {x|x|x|x|O}
         xStopHomeCycle : Bool;   // Stop Home Cycle {x|x|x|x|O}
         xEnDisMaintenance : Bool;   // Enable disable Maintenance service
         xEnableDisableManualCommand : Bool;   // Enable/Disable manual command{x|x|x|x|O}
         iRateUpVolumes : Int;   // Rate keep snap bar up in volumes[%] {%|%|0|100|O}
         rOffsetPosofSnapBar_mm : Real;   // Offset Position of SnapBar (-OpeartorSide,+Opposite) {mm|mm|x|x|O}
         dOffsetPosofSnapBar_cmm : DInt;   // Offset Position of SnapBar (-OpeartorSide,+Opposite) {mm/100|mm|x|x|O}
         rReactionTime_s : Real;   // Reaction time {ms|ms|x|x|O}
         dReactionTime_ms : DInt;   // Reaction time {s|s|x|x|O}
         rOffsetRise_mm : Real;   // Offset rise bar {mm|mm|x|x|O}
         dOffsetRise_cmm : DInt;   // Offset rise bar {mm/100|mm|x|x|O}
         rOffsetDescent_mm : Real;   // Offset descent bar {mm|mm|x|x|O}
         dOffsetDescent_cmm : DInt;   // Offset descent bar {mm/100|mm|x|x|O}
         tManCmd : Struct
            xRiseSnapBar : Bool;   // Rise snap bar {x|x|x|x|O}
            rgtEnableZone : Array["STARTARRAY".."DNUMSNAPBARZONE"] of Struct
               xEnable : Bool;   // Enable/Disable snap bar - Zone #1 {x|x|x|x|O}
            END_STRUCT;
            xForwardTraslation : Bool;   // Forward traslation {x|x|x|x|O}
            xBackwardTraslation : Bool;   // Backward traslation {x|x|x|x|O}
         END_STRUCT;
      END_STRUCT;
   END_STRUCT;

END_TYPE

DATA_BLOCK "SnapBar_Alm"
{ S7_Optimized_Access := 'FALSE' }
VERSION : 0.1
NON_RETAIN
   STRUCT 
      tBar : Array["STARTARRAY".."DNUMSNAPBAR"] of Struct
         tEmergencyAlarm : Array["STARTARRAY".."DALARM"] of "UDT_HMI_Alarm_V2";   // stop machine fault
         tAlarm : Array["STARTARRAY".."DALARM"] of "UDT_HMI_Alarm_V2";   // stop next cycle faults
         tWarning : Array["STARTARRAY".."DALARM"] of "UDT_HMI_Alarm_V2";   // Generic warning
      END_STRUCT;
   END_STRUCT;


BEGIN

END_DATA_BLOCK

DATA_BLOCK "SnapBar_Hmi"
{ S7_Optimized_Access := 'FALSE' }
VERSION : 0.1
   STRUCT 
      tBar : Array["STARTARRAY".."DNUMSNAPBAR"] of "UDT_SnapBar_HMI";
   END_STRUCT;


BEGIN

END_DATA_BLOCK

